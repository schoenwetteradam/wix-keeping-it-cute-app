# ============================================
# Keeping It Cute Salon & Spa - Environment Variables
# ============================================
# Copy this file to .env.local for local development
# For production, set these in your Vercel/hosting dashboard

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_ANON_KEY=your-supabase-anon-key

# Public Supabase variables (exposed to browser)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# Supabase Storage Buckets
SUPABASE_STORAGE_BUCKET=salon-images
NEXT_PUBLIC_SUPABASE_STORAGE_BUCKET=salon-images
SUPABASE_CLIENT_UPLOADS_BUCKET=client-uploads
SUPABASE_RECEIPTS_BUCKET=product-usage-images

# ============================================
# WIX API CONFIGURATION
# ============================================
# Get these from Wix Dev Center > Your App > OAuth

# API Token for server-side Wix API calls
WIX_API_TOKEN=your-wix-api-token

# Site and Account IDs from Wix dashboard
WIX_SITE_ID=your-wix-site-id
WIX_ACCOUNT_ID=your-wix-account-id

# ============================================
# WIX OAUTH CONFIGURATION (User Authentication)
# ============================================
# Required for allowing users to sign in with Wix accounts

# OAuth App Credentials (from Wix Dev Center)
WIX_CLIENT_ID=your-wix-client-id
WIX_CLIENT_SECRET=your-wix-client-secret

# Public client ID for frontend OAuth initiation
NEXT_PUBLIC_WIX_CLIENT_ID=your-wix-client-id

# OAuth callback URL (must match Wix app settings)
# IMPORTANT: Update this to use the new callback endpoint
NEXT_PUBLIC_WIX_REDIRECT_URI=https://wix-keeping-it-cute-app.vercel.app/api/wix-auth/callback

# ============================================
# WIX WEBHOOK SECURITY
# ============================================
# CRITICAL: Required for production security

# Webhook secret for HMAC signature verification
# Get this from Wix Dev Center > Webhooks
WIX_WEBHOOK_SECRET=your-wix-webhook-secret

# Public key for JWT webhook verification
# Get this from Wix Dev Center > Public Keys
# Must be in PEM format including BEGIN/END markers
WIX_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nYour-Base64-Encoded-Key\n-----END PUBLIC KEY-----

# Legacy auth format (for backward compatibility)
WIX_API_AUTH=Bearer your-wix-server-api-key

# ============================================
# EMAIL NOTIFICATIONS (SMTP)
# ============================================
# For sending booking confirmations and notifications

NOTIFICATION_EMAIL=admin@keepingitcutesalon.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-app-password

# ============================================
# ADMIN ACCESS CONTROL
# ============================================
# Comma-separated list of Supabase user IDs with admin access
ADMIN_USER_IDS=user-id-1,user-id-2

# Comma-separated list of admin user emails
ADMIN_EMAILS=admin@keepingitcutesalon.com

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# App URL for CORS and redirects
NEXT_PUBLIC_APP_URL=https://wix-keeping-it-cute-app.vercel.app

# Environment mode
NODE_ENV=development

# ============================================
# SECURITY NOTES
# ============================================
#
# 1. NEVER commit .env.local to version control
# 2. Use strong, unique values for all secrets
# 3. Rotate API keys periodically
# 4. WIX_WEBHOOK_SECRET and WIX_PUBLIC_KEY are REQUIRED for production
#    Without these, webhooks will be rejected in production mode
# 5. Keep SUPABASE_SERVICE_ROLE_KEY secure - it bypasses RLS
# 6. For production, ensure all callback URLs use HTTPS
#
# ============================================
